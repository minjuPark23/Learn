# Cookie

- 쿠키는 사용자의 로컬에 파일 또는 메모리에 저장하는 작은 기록 정보 파일(key-value 형태)
- 서버에 전송해 동일한 브라우저의 요청이라는 것을 알리며 사용자 인증
- 사용자 인증이 유효한 시간을 명시하며, 유효기간이 정해지면 브라우저가 종료되어도 인증 유지
- 쿠기의 구성 요소는 이름, 값, 기간, 도메인, 경로 등을 갖는다.

<br>

<img src="https://user-images.githubusercontent.com/60870438/193501089-46621f82-5161-4c56-ac45-fcca970093f9.png" width=70%>

<br>

### 🍪 쿠키 기반 인증

1. 클라이언트가 페이지 요청
2. 서버에서 쿠키 생성 및 클라이언트에게 응답
3. 클라이언트에서 보관
4. 서버에 요청 시 HTTP 헤더에 쿠키를 담아 요청

<br>

---

<br>

# Session

- 쿠키의 트래픽 문제와보안 이슈를 해결하기 위해 등장
- 사용자 정보 파일을 브라우저(클라이언트)에 저장하지 않고 서버에서 관리
- Session ID를 부여해 인증상태 유지
- 쿠키를 같이 사용한다.

<br>

<img src="https://user-images.githubusercontent.com/60870438/193502256-81c5b834-8d7c-416a-a882-4d3a99831787.png" width=70%>

<br>

### 📑 세션 기반 인증

1. 클라이언트가 페이지 요청
2. 서버는 Session ID 응답
3. 서버에 요청시 세션 ID를 담아 서버에 요청

<br>

| 쿠키                   |           | 세션                                |
| ---------------------- | --------- | ----------------------------------- |
| 쿠키는 브라우저에 저장 | 저장 위치 | 서버에 저장                         |
| 쿠키 만료 기간         | 삭제 시점 | 브라우저 종료시 또는 세션 만료 기간 |

<br>

# 🐤 정리

- 쿠키는 클라이언트에, 세션은 서버에 사용자 정보가 저장된다.
- 쿠키는 클라이언트에 저장되기 때문에 변질되거나 중요정보를 스니핑 당할 우려가 있다.
- 그러나 세션은 세션 ID만 담고 있기 때문에 보안이 쿠키보다 우수하다.
- 쿠키는 만료 기간이 있지만 클라이언트에 파일 형태로 저장되기 때문에 브라우저가 종료되어도 남아있을 수 있다.
- 그러나 세션은 세션 만료기간이 있지만 브라우저 종료시 서버에서 삭제된다.

<br>

# 참고

- [쿠키와 세션 개념](https://interconnection.tistory.com/74)

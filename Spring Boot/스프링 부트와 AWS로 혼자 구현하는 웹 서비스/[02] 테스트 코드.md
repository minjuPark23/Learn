### í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±

1. TDD: í…ŒìŠ¤íŠ¸ê°€ ì£¼ë„í•˜ëŠ” ê°œë°œ
- í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë¨¼ì € ì‘ì„±í•˜ëŠ” ê²ƒë¶€í„° ì‹œì‘
- ë ˆë“œ ê·¸ë¦° ì‚¬ì´í´: í•­ìƒ ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ ë¨¼ì € ì‘ì„±(Red) => í…ŒìŠ¤íŠ¸ê°€ í†µê³¼í•˜ëŠ” í”„ë¡œë•ì…˜ ì½”ë“œë¥¼ ì‘ì„±(Green) => í…ŒìŠ¤íŠ¸ê°€ í†µã…ê³¼í•˜ë©´ í”„ë¡œë•ì…˜ ì½”ë“œë¥¼ ë¦¬íŒ©í† ë§(Refactor)

2. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
- TDDì˜ ì²« ë²ˆì§¸ ë‹¨ê³„ì¸ ê¸°ëŠ¥ ë‹¨ìœ„ì˜ í…ŒìŠ¤íŠ¸ ì½”ë“œì„ ì‘ì„±í—ˆëˆˆ ê³³, (ìˆœìˆ˜ ì½”ë“œ)
- ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ì˜ ì´ì 
  - ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” ê°œë°œ ë‹¨ê³„ ì´ˆê¸°ì— ë¬¸ì œë¥¼ ë°œê²¬í•˜ê²Œ ë„ì™€ì¤€ë‹¤.
  - ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” ê°œë°œìë‚˜ ë‚˜ì¤‘ì— ì½”ë“œë¥¼ ë¦¬íŒ©í† ë§í•˜ê±°ë‚˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì—…ê·¸ë ˆì´ë“œ ë“±ì—ì„œ ê¸°ì¡´ ê¸°ëŠ¥ì´ ì˜¬ë°”ë¥´ê²Œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆë‹¤.(ex. íšŒê·€ í…ŒìŠ¤íŠ¸)
  - ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” ê¸°ëŠ¥ì— ëŒ€í•œ ë¶ˆí™•ì‹¤ì„±ì„ ê°ì†Œì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  - ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” ì‹œìŠ¤í…œì— ëŒ€í•œ ì‹¤ì œ ë¬¸ì„œë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì¦‰, ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ìì²´ê°€ ë¬¸ì„œë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```
1. ë¹ ë¥¸ í”¼ë“œë°±
  í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ì—†ìœ¼ë©´ ì§ì ‘ ëˆˆìœ¼ë¡œ ìˆ˜ì •ëœ ê¸°ëŠ¥ì„ í™•ì¸í•´ì•¼í•˜ë¯€ë¡œ í†°ìº£ì„ ì§ì ‘ ë‚´ë ¸ë‹¤ ì˜¬ë ¸ë‹¤ í•´ì•¼í•œë‹¤.
2. í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ ìë™ ê²€ì¦ì´ ê°€ëŠ¥í•˜ë‹¤
3. ê°œë°œìê°€ ë§Œë“  ê¸°ëŠ¥ì„ ì•ˆì „í•˜ê²Œ ë³´í˜¸
  í•˜ë‚˜ì˜ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ë•Œë§ˆë‹¤ ë§ì€ ìì›ì´ ë“¤ê¸° ë•Œë¬¸ì— ì„œë¹„ìŠ¤ì˜ ëª¨ë“  ê¸°ëŠ¥ì„ í…ŒìŠ¤íŠ¸ í•  ìˆ˜ëŠ” ì—†ë‹¤. 
  ìƒˆë¡œìš´ ê¸°ëŠ¥ì´ ì¶”ê°€ë  ë•Œ, ê¸°ì¡´ ê¸°ëŠ¥ì´ ì˜ ì‘ë™ë˜ëŠ” ê²ƒì„ ë³´ì¥í•´ì¤€ë‹¤.
```

![image](https://user-images.githubusercontent.com/60870438/170828516-1d6ac208-2c5a-4da5-931b-6322c0667497.png)

SpringApplication.runì„ í†µí•´ ë‚´ì¥ WASê°€ ì‹¤í–‰ëœë‹¤. => í†°ìº£ì„ ì„¤ì¹˜í•  í•„ìš”ê°€ ì—†ê²Œ ë˜ê³ , jar íŒŒì¼ë¡œ ì‹¤í–‰í•˜ë©´ ëœë‹¤.
*ë‚´ì¥ WASë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ *
  - ì–¸ì œ ì–´ë””ì„œë‚˜ ê°™ì€ í™˜ê²½ì—ì„œ ìŠ¤í”„ë§ ë¶€íŠ¸ë¥¼ ë°°í¬í•  ìˆ˜ ìˆë‹¤.

```java
@RunWith(SpringRunner.class) // ìŠ¤í”„ë§ ë¶€íŠ¸ í…ŒìŠ¤íŠ¸ì™€ JUnit ì‚¬ì´ì˜ ì—°ê²°ì
@WebMvcTest(controllers = HelloController.class) // Webì— ì§‘ì¤‘í•  ìˆ˜ ìˆëŠ” ì–´ë…¸í…Œì´ì…˜
public class HelloControllerTest {

    @Autowired // ìŠ¤í”„ë§ì´ ê´€ë¦¬í•˜ëŠ” beanì„ ì£¼ì…
    private MockMvc mvc; // ìŠ¤í”„ë§ MVC í…ŒìŠ¤íŠ¸ì˜ ì‹œì‘ì  -> HTTP GET,POST ë“± API í…ŒìŠ¤íŠ¸ ê°€ëŠ¥

    @Test
    public void helloê°€_ë¦¬í„´ëœë‹¤() throws Exception{
        String hello = "hello";

        mvc.perform(get("/hello")) // MockMVCë¥¼ í†µí•´ /hello ì£¼ì†Œë¡œ HTTP GET ìš”ì²­
                .andExpect(status().isOk()) // mvc.performì˜ ê²°ê³¼ ê²€ì¦. HTTP Headerì˜ Statusë¥¼ ê²€ì¦. ì¦‰ 200ì¸ì§€ ì•„ë‹Œì§€ ê²€ì¦
                .andExpect(content().string(hello)); // mvc.performì˜ ê²°ê³¼ ê²€ì¦. ì‘ë‹µ ë³¸ë¬¸ì˜ ë‚´ìš©ì„ ê²€ì¦. ì¦‰ Controllerì—ì„œ helloë¥¼ ë¦¬í„´ í•˜ëŠëƒ
    }
}

```

ğŸ’” ë˜‘ê°™ì€ í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ì•ˆ ëŒì•„ê°€ëŠ” ì˜¤ë¥˜ ë°œìƒ!
Ctrl + alt + Së¡œ Setting(Preference) ì°½ ì—´ê¸° > Build > Build Tools > Gradleì—ì„œ usingì„ Intellijë¡œ ë³€ê²½

<img src="https://user-images.githubusercontent.com/60870438/170841981-0f9e0530-01bc-4d8f-8be0-75f7f25e213e.png" width=70%>

ğŸ’– í•´ê²°!

### ë¡¬ë³µ
- ìë°” ê°œë°œí•  ë•Œ ìì£¼ ì‚¬ìš©í•˜ëŠ” ì½”ë“œ Getterm Setter, ê¸°ë³¸ ìƒì„±ì, toString ë“±ì„ ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ìë™ ìƒì„±í•´ ì¤€ë‹¤.

1ï¸âƒ£ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€
build.gradle
```java
implementation 'org.projectlombok:lombok'
```
2ï¸âƒ£ í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜
ctrl+shitf+A > Plugins > Lombock

<img src="https://user-images.githubusercontent.com/60870438/170842465-61342c7c-e7ce-4f40-bd9d-f95c6d3a0a7e.png" width=50%>

âœ³ ë¡¬ë³µ ì„¤ì •(Enable annotation processing)
Build > Annotation Processor

<img src="https://user-images.githubusercontent.com/60870438/170842521-08662577-745d-4efa-934d-5e75232f95d4.png" width=50%>

#### ì½”ë“œ ë¡¬ë³µìœ¼ë¡œ ë¦¬íŒ©í† ë§í•˜ê¸°

```java
    @Test
    public void ë¡¬ë³µ_ê¸°ëŠ¥_í…ŒìŠ¤íŠ¸(){
        //given
        String name = "test";
        int amount = 1000;

        //when
        HelloResponseDto dto = new HelloResponseDto(name, amount);

        //then
        assertThat(dto.getName()).isEqualTo(name);
        assertThat(dto.getAmount()).isEqualTo(amount);
    }
```
- assertThat
  - assertjë¼ëŠ” í…ŒìŠ¤íŠ¸ ê²€ì¦ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ê²€ì¦ ë©”ì„œë“œ
  - ê²€ì¦í•˜ê³  ì‹¶ì€ ëŒ€ìƒì„ ë©”ì†Œë“œ ì¸ìë¡œ ë°›ëŠ”ë‹¤
- isEqualTo
  - assertjì˜ ë™ë“± ë¹„êµ ë©”ì„œë“œ

- Junitì—ë„ ê¸°ë³¸ assertThatì´ ìˆë‹¤. ì™œ assertjì˜ assertThatì„ ì‚¬ìš©í–ˆëŠ”ê°€?
â˜‘ Junitê³¼ ë¹„êµí•˜ì—¬ assertjì˜ ì¥ì 
  - CoreMatchersì™€ ë‹¬ë¦¬ ì¶”ê°€ì ì¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í•„ìš” ì—†ìŒ.
    Junitì€ CoreMatchers ë¼ì´ë¸ŒëŸ¬ë¦¬ í•„ìš”
  - ìë™ì™„ì„±ì´ ì¢€ ë” í™•ì‹¤í•˜ê²Œ ì§€ì›ë¨
  -  [ì°¸ê³ ](http://bit.ly/30vm9Lg)

í…ŒìŠ¤íŠ¸í•˜ê¸°
```java
    @GetMapping("/hello/dto")
    public HelloResponseDto helloDto(@RequestParam("name") String name, @RequestParam("amount") int amount){
        return new HelloResponseDto(name, amount);
    }
```
âœ³ RequestParam
  - ì™¸ë¶€ì—ì„œ APIë¡œ ë„˜ê¸´ íŒŒë¼ë¯¸í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì–´ë…¸í…Œì´ì…˜

```java
    @Test
    public void helloDtoê°€_ë¦¬í„´ëœë‹¤() throws Exception{
        String name = "hello";
        int amount = 1000;

        mvc.perform(
                get("/hello/dto")
                        .param("name", name) // ìš”ì²­ íŒŒë¼ë¯¸í„° ì„¤ì •
                        .param("amount", String.valueOf(amount)) // íŒŒë¼ë¯¸í„°ëŠ” ë¬¸ìì—´ë¡œ ë“±ë¡í•´ì•¼ í•œë‹¤.
        )
                .andExpect(status().isOk())
                .andExpect(jsonPath("$.name", is(name))) 
                .andExpect(jsonPath("$.amount", is(amount)));
    }
```

âœ³ paramì€ ìš”ì²­ íŒŒë¼ë¯¸í„° ì„¤ì •
âœ³ jsonPath
  - JSON ì‘ë‹µê°’ì„ í•„ë“œë³„ë¡œ ê²€ì¦í•  ìˆ˜ ìˆëŠ” ë©”ì†Œë“œ
  - $ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•„ë“œëª…ì„ ëª…ì‹œ
  - ex) name -> $.name
